<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ASTROCODE — Mantenimiento PC</title>
    <link rel="icon" href="assets/robot/iconastrobot.png" type="image/png" />
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <canvas id="universe" aria-hidden="true"></canvas>
    <div class="backdrop" aria-hidden="true"></div>

    <header>
      <div class="container nav">
        <a class="brand" href="index.html">
          <div class="logo">
            <img
              src="assets/robot/iconastrobot.png"
              alt="AstroBot"
              onerror="this.style.display = 'none'"
            />
          </div>
          <span>ASTROCODE</span>
        </a>
        <nav class="navlinks" aria-label="Navegación">
          <a href="so.html">Historia SO</a>
          <a href="msdos.html">Historia MS-DOS</a>
          <a href="curso-batch.html">Curso Batch</a>
          <a href="mantenimiento.html">Mantenimiento PC</a>
          <a href="juego.html">Juego</a>
          <a href="descargas.html">Descargas</a>
          <a href="certificado.html">Reto & Diploma</a>
        </nav>
      </div>
    </header>

    <main class="container">
      <section class="hero">
        <h1>Mantenimiento del PC</h1>
        <p class="lead">
          Este apartado explica <b>qué hace cada opción</b> del menú,
          <b>qué herramientas usa Windows</b> y cómo está construido el script
          por dentro (menú + validación + módulos).
        </p>

        <div class="actions" style="margin-top: 16px">
          <a
            class="btn primary"
            href="assets/downloads/Mantenimiento.bat"
            download
            >⬇ Descargar Mantenimiento.bat</a
          >
          <a class="btn" href="scanner.html">Ver Scanner (SFC)</a>
          <a class="btn" href="dism.html">Ver Dism</a>
          <a class="btn" href="#opciones">Opciones explicadas</a>
          <a class="btn" href="#construccion">Cómo se construye</a>
        </div>

        <p class="small" style="margin-top: 10px">
          Nota: algunas opciones pueden requerir permisos de administrador (por
          ejemplo CHKDSK /F /R y vaciar $Recycle.Bin).
        </p>
      </section>

      <section class="section" id="opciones">
        <h2>Opciones del menú: herramientas y propósito</h2>
        <p>
          El mantenimiento está organizado en un menú: el usuario elige una
          opción, se ejecuta un bloque de comandos y se vuelve al menú. Esto se
          logra con <b>etiquetas</b> (<code>:nombre</code>) y saltos con
          <b>goto</b>.
        </p>

        <div class="timeline">
          <div class="t-item">
            <div class="date">1 · Limpieza</div>
            <h3>Limpiar archivos temporales</h3>
            <p>
              Usa <code>cleanmgr /sagerun:1</code> (Liberador de espacio). Sirve
              para borrar temporales, cachés y otros restos. Si en el PC no
              existe la configuración <code>/sageset:1</code>, se debe
              configurar una vez.
            </p>
          </div>

          <div class="t-item">
            <div class="date">2 · Red</div>
            <h3>Liberar caché DNS</h3>
            <p>
              Ejecuta <code>ipconfig /flushdns</code>. Útil si hay problemas al
              acceder a webs, cambios de DNS o errores de resolución.
            </p>
          </div>

          <div class="t-item">
            <div class="date">3 · Disco</div>
            <h3>Desfragmentar disco duro</h3>
            <p>
              Pide confirmación y ejecuta <code>defrag C:</code>. Recomendado en
              HDD (disco mecánico). En SSD se suele “optimizar” de otra forma.
            </p>
          </div>

          <div class="t-item">
            <div class="date">4 · Informe</div>
            <h3>Generar informe del sistema</h3>
            <p>
              Ejecuta <code>systeminfo</code> y lo guarda en
              <code>C:\informe_sistema.txt</code>.
            </p>
          </div>

          <div class="t-item">
            <div class="date">5 · Seguridad</div>
            <h3>Buscar y eliminar malware</h3>
            <p>
              Lanza Windows Defender (si está disponible) usando
              <code>MpCmdRun.exe</code> para un escaneo completo y guarda salida
              en un .txt temporal.
            </p>
          </div>

          <div class="t-item">
            <div class="date">6 · Papelera</div>
            <h3>Vaciar la papelera</h3>
            <p>
              Ejecuta <code>rd /s /q %systemdrive%\$Recycle.Bin</code>. Puede
              requerir permisos admin.
            </p>
          </div>

          <div class="t-item">
            <div class="date">7 · Backup</div>
            <h3>Copia de seguridad</h3>
            <p>
              Pide origen y destino y copia con <code>xcopy</code> (incluye
              subcarpetas, ocultos y continúa con errores). Importante: se usan
              comillas para rutas con espacios.
            </p>
          </div>

          <div class="t-item">
            <div class="date">8 · Reparación</div>
            <h3>Reparar disco (CHKDSK)</h3>
            <p>
              Pide la letra de unidad y ejecuta <code>chkdsk X: /F /R</code>.
              <b>/F</b> repara errores y <b>/R</b> busca sectores defectuosos.
              En la unidad del sistema puede pedir reinicio.
            </p>
          </div>

          <div class="t-item">
            <div class="date">9 · Scanner</div>
            <h3>Abrir Scanner (SFC)</h3>
            <p>
              Ejecuta <code>call Scanner.bat</code> para abrir el submenú de
              verificación/reparación de archivos del sistema y luego vuelve al
              menú.
            </p>
            <div class="actions" style="margin-top: 10px">
              <a class="btn" href="scanner.html"
                >Abrir explicación de Scanner</a
              >
              <a
                class="btn primary"
                href="assets/downloads/Scanner.bat"
                download
                >⬇ Descargar Scanner.bat</a
              >
            </div>
          </div>

          <div class="t-item">
            <div class="date">10 · Reparación</div>
            <h3>Reparar imagen de Windows (DISM)</h3>
            <p>
              Ejecuta <code>call Reparacionimagen.bat</code> para reparar la
              imagen de Windows con
              <code>DISM /Online /Cleanup-Image /RestoreHealth</code>.
            </p>
            <div class="actions" style="margin-top: 10px">
              <a class="btn" href="dism.html"
                >Abrir explicación de Dism</a
              >
              <a
                class="btn primary"
                href="assets/downloads/Reparacionimagen.bat"
                download
                >⬇ Descargar Reparacionimagen.bat</a
              >
            </div>
          </div>
          <div class="t-item">
            <div class="date">11 · Salida</div>
            <h3>Salir</h3>
            <p>Finaliza el script de forma limpia.</p>
          </div>
        </div>
      </section>
        </div>
      </section>

      <section class="section" id="construccion">
        <h2>Cómo se construye (guía por partes)</h2>
        <p>
          Un mantenimiento en Batch suele dividirse en 3 capas: <b>menú</b> →
          <b>validación</b> → <b>módulos</b>. Así controlas bien las opciones y
          evitas que el usuario rompa el flujo.
        </p>

        <div class="grid">
          <article class="card">
            <div class="inner">
              <h3>1) Menú + lectura de opción</h3>
              <pre><code>:inicio
cls
echo 1) ...
echo 2) ...
set /p opcion="Selecciona (1-10): "</code></pre>
            </div>
          </article>

          <article class="card">
            <div class="inner">
              <h3>2) Validación y saltos</h3>
              <pre><code>if "%opcion%"=="1" goto limpiar_temporales
...
if "%opcion%"=="10" goto exit
echo Opción inválida
pause
goto inicio</code></pre>
            </div>
          </article>

          <article class="card">
            <div class="inner">
              <h3>3) Módulo (una opción)</h3>
              <pre><code>:liberar_dns
ipconfig /flushdns
pause
goto inicio</code></pre>
            </div>
          </article>

          <article class="card">
            <div class="inner">
              <h3>4) Modularidad con CALL</h3>
              <p>
                Para scripts grandes, separa en sub-scripts y llama con
                <code>call</code>. Ejemplo:
                <code>call Scanner.bat</code> (Scanner se ejecuta y devuelve
                control al mantenimiento).
              </p>
            </div>
          </article>
        </div>
      </section>
      
      <section class="section" id="bat2exe">
        <h1>Convertir BAT a EXE paso a paso</h1>
        <p class="lead">
          Este apartado explica los pasos a seguir para poder realizar el cambio de formato de un archivo .bat a un archivo .exe.
          Para esto se usará la aplicación "Bat To Exe Converter" en su versión 4.2, aunque hay muchas otras similares.
        </p>
        <ol>
          <li class="d-flex align-items-center mb-3">
              <span class="me-3">Descargar aplicación de .bat a .exe</span>
              <a
                class="btn btn-primary"
                href="assets/source/Bat_To_Exe_Converter_4.2.exe"
                download
              >⬇ Descargar aplicación de .Bat a .exe</a>
            </li>

            <li class="d-flex align-items-center">
              <span class="me-3">Abrimos la aplicación y debería verse algo así:</span>
              <button
                class="btn btn-secondary"
                onclick="abrirImagen('assets/img/bat2exe_1.png')"
              >
                Ver imagen
              </button>
            </li>

          <li>Presionamos el boton de <b>open</b> y seleccionamos el .bat</li>

          <li>
            A continuación con el .bat abierto, pulsamos el boton de
            <b>convert</b>
            <button
              class="btn"
              onclick="abrirImagen('assets/img/bat2exe_2.png')"
            >
              Ver imagen
            </button>
          </li>
        </ol>

        <p class="small">
          Nota: muchos conversores “empaquetan” el BAT dentro de un ejecutor; no
          lo convierten a código nativo.
        </p>


      </section>

      <footer class="footer">
        <div>© <span id="year"></span> ASTROCODE</div>
      </footer>
    </main>

    <div id="visorImagen" style="display: none">
      <span id="cerrarImagen">✕</span>
      <img id="imagenGrande" src="" alt="Vista previa" />
    </div>

    <script src="js/universe.js"></script>
    <script src="js/main.js"></script>
    <script>
      const visor = document.getElementById("visorImagen");
      const img = document.getElementById("imagenGrande");
      const cerrar = document.getElementById("cerrarImagen");

      function abrirImagen(ruta) {
        img.src = ruta;
        visor.style.display = "flex";
      }

      cerrar.onclick = function () {
        visor.style.display = "none";
        img.src = "";
      };
    </script>
  </body>
</html>
